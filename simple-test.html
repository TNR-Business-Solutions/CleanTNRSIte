<!DOCTYPE html>
<html>
<head>
    <title>Simple Form Test</title>
</head>
<body>
    <h1>Simple Form Test</h1>
    <form id="contact-form">
        <input type="text" name="name" value="Test User" required>
        <input type="email" name="email" value="test@example.com" required>
        <input type="tel" name="phone" value="555-123-4567">
        <input type="text" name="company" value="Test Company">
        <textarea name="message" required>Test message</textarea>
        <button type="submit">Submit</button>
    </form>
    
    <div id="results"></div>

    <script src="crm-data.js"></script>
    <script src="email-service.js"></script>
    <script src="form-integration.js"></script>
    
    <script>
        // Monitor form submissions
        document.getElementById('contact-form').addEventListener('submit', function(e) {
            console.log('Form submitted!');
        });
        
        // Check CRM status every 2 seconds
        setInterval(() => {
            const results = document.getElementById('results');
            const submissions = JSON.parse(localStorage.getItem('tnr_form_submissions') || '[]');
            const leads = window.tnrCRM ? window.tnrCRM.leads : [];
            
            results.innerHTML = `
                <h3>Status:</h3>
                <p>CRM Available: ${typeof window.TNRCRMData !== 'undefined' ? 'Yes' : 'No'}</p>
                <p>CRM Instance: ${window.tnrCRM ? 'Yes' : 'No'}</p>
                <p>Form Submissions: ${submissions.length}</p>
                <p>Leads: ${leads.length}</p>
                <p>Recent Leads:</p>
                <ul>
                    ${leads.slice(-3).map(lead => `<li>${lead.name} - ${lead.email} - ${lead.status}</li>`).join('')}
                </ul>
            `;
        }, 2000);
    </script>
</body>
</html>
