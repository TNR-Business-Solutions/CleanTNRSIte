<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TNR Social Media Automation Dashboard</title>
    <link rel="stylesheet" href="assets/social-media-automation.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üöÄ Social Media Automation Dashboard</h1>
            <p>Streamline your social media marketing for TNR Business Solutions & Clients</p>
        </div>
        
        <div class="dashboard-grid">
            <!-- Meta OAuth Setup -->
            <div class="card">
                <h3><span class="card-icon">üîê</span>Meta (Facebook/Instagram) Setup</h3>
                
                <div id="metaConnectionStatus">
                    <div class="connection-status">
                        <p id="metaStatus">Not connected</p>
                    </div>
                </div>
                
                <button class="btn" onclick="connectMeta()">üîó Connect Facebook/Instagram</button>
                <button class="btn btn-secondary" onclick="window.manualTest = true; testMetaToken()">üß™ Test Token</button>
                
                <div class="form-group" style="margin-top: 20px;">
                    <label for="metaToken">Page Access Token (optional - for direct use):</label>
                    <input type="password" id="metaToken" placeholder="Paste your token here...">
                    <button class="btn" style="margin-top: 10px;" onclick="saveMetaToken()">üíæ Save Token</button>
                </div>
            </div>
            
            <!-- Content Generator -->
            <div class="card">
                <h3><span class="card-icon">üìù</span>Content Generator</h3>
                
                <div class="platform-tabs">
                    <div class="platform-tab active" onclick="switchPlatform('facebook', this)">Facebook</div>
                    <div class="platform-tab" onclick="switchPlatform('instagram', this)">Instagram</div>
                    <div class="platform-tab" onclick="switchPlatform('linkedin', this)">LinkedIn</div>
                    <div class="platform-tab" onclick="switchPlatform('twitter', this)">Twitter</div>
                </div>
                
                <div id="facebook" class="content-area active">
                    <div class="form-group">
                        <label for="contentType">Content Type</label>
                        <select id="contentType" name="contentType" aria-label="Select content type">
                            <option value="test-post">üß™ Test Post (First Post)</option>
                            <option value="service-promotion">Service Promotion</option>
                            <option value="client-success">Client Success Story</option>
                            <option value="industry-tip">Industry Tip</option>
                            <option value="behind-scenes">Behind the Scenes</option>
                            <option value="testimonial">Customer Testimonial</option>
                            <option value="how-to">How-To Guide</option>
                            <option value="question">Engagement Question</option>
                            <option value="did-you-know">Did You Know</option>
                            <option value="local-community">Local Community</option>
                            <option value="seasonal">Seasonal/Holiday</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="clientBusinessName">Client/Business Name</label>
                        <input type="text" id="clientBusinessName" placeholder="e.g., TNR Business Solutions" value="TNR Business Solutions">
                    </div>
                    
                    <div class="form-group">
                        <label for="professionType">Industry Type</label>
                        <select id="professionType" name="professionType" aria-label="Select industry type">
                            <option value="digital-marketing">Digital Marketing Agency</option>
                            <option value="insurance">Insurance Services</option>
                            <option value="construction">Construction/Trades</option>
                            <option value="professional-services">Professional Services (Law, Accounting, Consulting)</option>
                            <option value="healthcare">Healthcare/Medical</option>
                            <option value="restaurant">Restaurant/Food Service</option>
                            <option value="retail">Retail Store</option>
                            <option value="real-estate">Real Estate</option>
                            <option value="automotive">Automotive Services</option>
                            <option value="home-services">Home Services (HVAC, Plumbing, Electric)</option>
                            <option value="fitness">Fitness/Wellness</option>
                            <option value="beauty">Beauty/Salon</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="serviceFocus">Service Focus</label>
                        <select id="serviceFocus" name="serviceFocus" aria-label="Select service focus">
                            <option value="seo">SEO Services</option>
                            <option value="web-design">Web Design</option>
                            <option value="social-media">Social Media</option>
                            <option value="insurance">Insurance</option>
                            <option value="paid-ads">Paid Advertising</option>
                            <option value="email-marketing">Email Marketing</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="targetAudience">Target Audience</label>
                        <select id="targetAudience" name="targetAudience" aria-label="Select target audience">
                            <option value="small-business">Small Business Owners</option>
                            <option value="local-residents">Local Residents</option>
                            <option value="insurance-seekers">Insurance Seekers</option>
                            <option value="marketing-managers">Marketing Managers</option>
                        </select>
                    </div>
                    
                    <button class="btn" onclick="generateContent()">Generate Content</button>
                    
                    <div id="contentPreview" class="post-preview hidden" role="region" aria-label="Generated content preview">
                        <h4>Generated Post:</h4>
                        <div id="previewContent"></div>
                        <div class="hashtag-suggestions" id="hashtagSuggestions"></div>
                        <div style="display: flex; gap: 10px; margin-top: 15px; flex-wrap: wrap;">
                            <button class="btn" onclick="postToFacebook()" style="flex: 1; min-width: 200px;">üì§ Post to Facebook</button>
                            <button class="btn" onclick="postToInstagram()" style="flex: 1; min-width: 200px; background: linear-gradient(45deg, #f09433 0%, #e6683c 25%, #dc2743 50%, #cc2366 75%, #bc1888 100%);">üì∏ Post to Instagram</button>
                        </div>
                        <p style="font-size: 0.9rem; color: #666; margin-top: 10px;">
                            ‚ÑπÔ∏è <strong>Instagram Note:</strong> For best results, add an image URL below before posting to Instagram. Text-only posts work on Facebook but require an image for Instagram.
                        </p>
                        <div style="margin-top: 10px;">
                            <label style="display: block; margin-bottom: 5px; font-size: 0.9rem;">Image URL (optional for Facebook, required for Instagram):</label>
                            <input type="url" id="postImageUrl" placeholder="https://example.com/image.jpg" style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
                        </div>
                    </div>
                </div>
                
                <!-- Instagram Content Area -->
                <div id="instagram" class="content-area">
                    <div class="form-group">
                        <label for="contentType">Content Type</label>
                        <select id="contentType" name="contentType" aria-label="Select content type">
                            <option value="test-post">üß™ Test Post (First Post)</option>
                            <option value="service-promotion">Service Promotion</option>
                            <option value="client-success">Client Success Story</option>
                            <option value="industry-tip">Industry Tip</option>
                            <option value="behind-scenes">Behind the Scenes</option>
                            <option value="testimonial">Customer Testimonial</option>
                            <option value="how-to">How-To Guide</option>
                            <option value="question">Engagement Question</option>
                            <option value="did-you-know">Did You Know</option>
                            <option value="local-community">Local Community</option>
                            <option value="seasonal">Seasonal/Holiday</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="clientBusinessName">Client/Business Name</label>
                        <input type="text" id="clientBusinessName" placeholder="e.g., TNR Business Solutions" value="TNR Business Solutions">
                    </div>
                    
                    <div class="form-group">
                        <label for="professionType">Industry Type</label>
                        <select id="professionType" name="professionType" aria-label="Select industry type">
                            <option value="digital-marketing">Digital Marketing Agency</option>
                            <option value="insurance">Insurance Services</option>
                            <option value="construction">Construction/Trades</option>
                            <option value="professional-services">Professional Services (Law, Accounting, Consulting)</option>
                            <option value="healthcare">Healthcare/Medical</option>
                            <option value="restaurant">Restaurant/Food Service</option>
                            <option value="retail">Retail Store</option>
                            <option value="real-estate">Real Estate</option>
                            <option value="automotive">Automotive Services</option>
                            <option value="home-services">Home Services (HVAC, Plumbing, Electric)</option>
                            <option value="fitness">Fitness/Wellness</option>
                            <option value="beauty">Beauty/Salon</option>
                        </select>
                    </div>
                    
                    <button class="btn" onclick="generateContent()">Generate Content</button>
                    
                    <p style="margin-top: 20px; padding: 15px; background: #fff3cd; border: 1px solid #ffc107; border-radius: 8px; color: #856404;">
                        ‚ÑπÔ∏è <strong>Instagram requires an image!</strong> Make sure to add an image URL after generating content.
                    </p>
                </div>
                
                <!-- LinkedIn Content Area -->
                <div id="linkedin" class="content-area">
                    <div style="text-align: center; padding: 60px 20px; background: #f8f9fa; border-radius: 8px; margin: 20px 0;">
                        <div style="font-size: 48px; margin-bottom: 20px;">üíº</div>
                        <h3 style="color: #0077b5; margin-bottom: 15px;">LinkedIn Integration Coming Soon!</h3>
                        <p style="color: #666; margin-bottom: 20px;">
                            We're working on LinkedIn automation. For now, you can:
                        </p>
                        <ul style="text-align: left; max-width: 400px; margin: 0 auto 20px; color: #666;">
                            <li style="margin-bottom: 10px;">Use Facebook tab to generate professional content</li>
                            <li style="margin-bottom: 10px;">Copy the generated text</li>
                            <li style="margin-bottom: 10px;">Post directly to LinkedIn</li>
                        </ul>
                        <button class="btn" onclick="switchPlatform('facebook', document.querySelector('.platform-tab'))" style="background: #0077b5;">
                            ‚Üê Generate Content for LinkedIn
                        </button>
                    </div>
                </div>
                
                <!-- Twitter Content Area -->
                <div id="twitter" class="content-area">
                    <div style="text-align: center; padding: 60px 20px; background: #f8f9fa; border-radius: 8px; margin: 20px 0;">
                        <div style="font-size: 48px; margin-bottom: 20px;">üê¶</div>
                        <h3 style="color: #1da1f2; margin-bottom: 15px;">Twitter/X Integration Coming Soon!</h3>
                        <p style="color: #666; margin-bottom: 20px;">
                            Twitter automation is on our roadmap. For now, you can:
                        </p>
                        <ul style="text-align: left; max-width: 400px; margin: 0 auto 20px; color: #666;">
                            <li style="margin-bottom: 10px;">Generate short-form content using Facebook tab</li>
                            <li style="margin-bottom: 10px;">Edit to fit Twitter's character limit</li>
                            <li style="margin-bottom: 10px;">Post directly to Twitter/X</li>
                        </ul>
                        <button class="btn" onclick="switchPlatform('facebook', document.querySelector('.platform-tab'))" style="background: #1da1f2;">
                            ‚Üê Generate Content for Twitter
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Post Scheduler -->
            <div class="card">
                <h3><span class="card-icon">üìÖ</span>Post Scheduler</h3>
                
                <div class="form-group">
                    <label for="schedulePlatform">Platform</label>
                    <select id="schedulePlatform" name="schedulePlatform" aria-label="Select platform">
                        <option value="facebook">Facebook</option>
                        <option value="instagram">Instagram</option>
                        <option value="linkedin">LinkedIn</option>
                        <option value="twitter">Twitter</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="scheduleContent">Post Content</label>
                    <textarea id="scheduleContent" name="scheduleContent" rows="4" placeholder="Enter your post content..." aria-label="Enter post content"></textarea>
                </div>
                
                <div class="form-group">
                    <label for="scheduleDateTime">Schedule Date & Time</label>
                    <input type="datetime-local" id="scheduleDateTime" name="scheduleDateTime" aria-label="Select date and time">
                </div>
                
                <div class="form-group">
                    <label for="scheduleClient">Client (Optional)</label>
                    <select id="scheduleClient" name="scheduleClient" aria-label="Select client">
                        <option value="tnr">TNR Business Solutions</option>
                        <option value="client1">Client 1</option>
                        <option value="client2">Client 2</option>
                    </select>
                </div>
                
                <button class="btn" onclick="schedulePostReal()">Schedule Post (Real API)</button>
                <button class="btn btn-secondary" onclick="schedulePost()">Schedule Post (CSV Export)</button>
                
                <div id="scheduledPosts" class="schedule-grid"></div>
            </div>
            
            <!-- Hashtag Research -->
            <div class="card">
                <h3><span class="card-icon">#Ô∏è‚É£</span>Hashtag Research</h3>
                
                <div class="form-group">
                    <label for="hashtagIndustry">Industry/Service</label>
                    <select id="hashtagIndustry" name="hashtagIndustry" aria-label="Select industry or service">
                        <option value="digital-marketing">Digital Marketing</option>
                        <option value="insurance">Insurance</option>
                        <option value="web-design">Web Design</option>
                        <option value="seo">SEO</option>
                        <option value="social-media">Social Media</option>
                        <option value="local-business">Local Business</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="hashtagLocation">Location</label>
                    <input type="text" id="hashtagLocation" name="hashtagLocation" value="Greensburg PA" placeholder="Enter location" aria-label="Enter location">
                </div>
                
                <button class="btn" onclick="generateHashtags()">Generate Hashtags</button>
                
                <div id="hashtagResults" class="hashtag-suggestions"></div>
            </div>
            
            <!-- Client Management -->
            <div class="card">
                <h3><span class="card-icon">üë•</span>Client Management</h3>
                
                <div class="form-group">
                    <label for="newClientName">Add New Client</label>
                    <input type="text" id="newClientName" name="newClientName" placeholder="Client Name" aria-label="Enter client name">
                </div>
                
                <div class="form-group">
                    <label for="clientServices">Services</label>
                    <select id="clientServices" name="clientServices" multiple aria-label="Select services">
                        <option value="facebook">Facebook Management</option>
                        <option value="instagram">Instagram Management</option>
                        <option value="linkedin">LinkedIn Management</option>
                        <option value="content-creation">Content Creation</option>
                        <option value="scheduling">Post Scheduling</option>
                    </select>
                </div>
                
                <button class="btn" onclick="addClient()">Add Client</button>
                
                <div class="client-list" id="clientList">
                    <div class="client-item">
                        <div>
                            <div class="client-name">TNR Business Solutions</div>
                            <div class="client-services-text">All Platforms</div>
                        </div>
                        <span class="client-status status-active">Active</span>
                    </div>
                </div>
            </div>
            
            <!-- API Configuration -->
            <div class="card">
                <h3><span class="card-icon">üîß</span>API Configuration</h3>
                
                <div id="connectionStatus">
                    <div class="connection-status">
                        <h4>API Connection Status</h4>
                        <p>Configured: <span id="configStatus">‚ùå No</span></p>
                        <p>Meta (FB/IG): <span id="metaConnected">‚ùå</span></p>
                        <p>LinkedIn: <span id="linkedinConnected">‚ùå</span></p>
                        <p>Twitter: <span id="twitterConnected">‚ùå</span></p>
                    </div>
                </div>
                
                <button class="btn" onclick="showApiConfig()">Configure API Keys</button>
                <a href="real-automation-setup.html" class="btn btn-secondary">Advanced Setup ‚Üí</a>
            </div>
            
            <!-- Analytics Dashboard -->
            <div class="card">
                <h3><span class="card-icon">üìä</span>Analytics Dashboard</h3>
                
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-number">1,247</div>
                        <div class="stat-label">Total Posts</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">15.2K</div>
                        <div class="stat-label">Total Reach</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">2,341</div>
                        <div class="stat-label">Engagements</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">18.7%</div>
                        <div class="stat-label">Engagement Rate</div>
                    </div>
                </div>
                
                <div class="export-options">
                    <button class="export-btn" onclick="exportToBuffer()">Export to Buffer</button>
                    <button class="export-btn" onclick="exportToHootsuite()">Export to Hootsuite</button>
                    <button class="export-btn" onclick="exportToLater()">Export to Later</button>
                    <button class="export-btn" onclick="exportToWebhook()">Export to Webhook</button>
                </div>
            </div>
            
            <!-- Content Calendar -->
            <div class="card">
                <h3><span class="card-icon">üìÜ</span>Content Calendar</h3>
                
                <div class="form-group">
                    <label for="calendarView">View</label>
                    <select id="calendarView" name="calendarView" aria-label="Select calendar view">
                        <option value="week">This Week</option>
                        <option value="month">This Month</option>
                        <option value="quarter">This Quarter</option>
                    </select>
                </div>
                
                <div id="calendarContent">
                    <div class="schedule-item">
                        <div class="schedule-time">Today 9:00 AM</div>
                        <div class="schedule-content">Facebook: SEO Tips for Local Businesses</div>
                    </div>
                    <div class="schedule-item">
                        <div class="schedule-time">Today 2:00 PM</div>
                        <div class="schedule-content">Instagram: Behind the Scenes at TNR</div>
                    </div>
                    <div class="schedule-item">
                        <div class="schedule-time">Tomorrow 10:00 AM</div>
                        <div class="schedule-content">LinkedIn: Insurance Industry Insights</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script src="social-media-csv-export.js"></script>
    <script src="social-media-api-integration.js"></script>
    <script>
        // Check admin authentication
        if (sessionStorage.getItem('adminAuthenticated') !== 'true') {
            // For now, auto-authenticate for testing
            sessionStorage.setItem('adminAuthenticated', 'true');
        }
        
        // Meta OAuth Functions
        function connectMeta() {
            // Redirect to Meta OAuth flow
            window.location.href = '/auth/meta';
        }
        
        async function testMetaToken() {
            const tokenInput = document.getElementById('metaToken');
            const token = (tokenInput ? tokenInput.value.trim() : '') || localStorage.getItem('metaPageAccessToken');
            
            if (!token) {
                console.log('No token found');
                return;
            }
            
            console.log('Testing token...');
            
            try {
                const response = await fetch('/api/social/test-token', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ pageAccessToken: token })
                });
                
                const data = await response.json();
                console.log('Token test result:', data);
                
                if (data.success) {
                    const metaStatus = document.getElementById('metaStatus');
                    const metaConnected = document.getElementById('metaConnected');
                    const configStatus = document.getElementById('configStatus');
                    
                    console.log('Instagram data:', data.instagram);
                    
                    if (metaStatus) {
                        const igStatus = data.instagram 
                            ? `üì∑ Instagram: @${data.instagram.username}` 
                            : '‚ùå No Instagram connected';
                        metaStatus.innerHTML = `‚úÖ Connected to: ${data.page.name}<br>${igStatus}`;
                        console.log('Updated metaStatus:', igStatus);
                    }
                    if (metaConnected) metaConnected.textContent = '‚úÖ';
                    if (configStatus) configStatus.textContent = '‚úÖ Yes';
                    
                    // Only show alert if manually clicked (not on auto-load)
                    if (window.manualTest) {
                        const igInfo = data.instagram 
                            ? `Instagram: @${data.instagram.username} (${data.instagram.followersCount || 0} followers)` 
                            : 'No Instagram connected';
                        alert(`‚úÖ Token Valid!\n\nPage: ${data.page.name}\n${igInfo}`);
                    }
                } else {
                    console.error('Token invalid:', data.message);
                    if (window.manualTest) {
                        alert('‚ùå Token Invalid: ' + data.message);
                    }
                }
            } catch (error) {
                console.error('Token test error:', error);
                if (window.manualTest) {
                    alert('‚ùå Error testing token: ' + error.message);
                }
            }
        }
        
        function saveMetaToken() {
            const metaTokenInput = document.getElementById('metaToken');
            const token = metaTokenInput ? metaTokenInput.value.trim() : '';
            if (token) {
                localStorage.setItem('metaPageAccessToken', token);
                alert('‚úÖ Token saved! Now test it to verify.');
                testMetaToken();
            } else {
                alert('Please paste your token first');
            }
        }
        
        async function postToFacebook() {
            const content = document.getElementById('previewContent').textContent;
            const imageUrl = document.getElementById('postImageUrl').value.trim();
            const token = localStorage.getItem('metaPageAccessToken');
            
            if (!token) {
                if (confirm('No token saved. Would you like to connect Facebook now?')) {
                    connectMeta();
                }
                return;
            }
            
            if (!content) {
                alert('Please generate content first');
                return;
            }
            
            try {
                const postData = {
                    pageAccessToken: token,
                    message: content
                };
                
                // Add image URL if provided
                if (imageUrl) {
                    postData.imageUrl = imageUrl;
                }
                
                const response = await fetch('/api/social/post-to-facebook', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(postData)
                });
                
                const data = await response.json();
                
                if (data.success) {
                    if (confirm('üéâ Post published successfully!\n\nWould you like to view it on Facebook?')) {
                        window.open(data.postUrl, '_blank');
                    }
                } else {
                    alert('‚ùå Failed to post: ' + data.message);
                }
            } catch (error) {
                alert('‚ùå Error posting: ' + error.message);
            }
        }
        
        async function postToInstagram() {
            const content = document.getElementById('previewContent').textContent;
            const imageUrl = document.getElementById('postImageUrl').value.trim();
            const token = localStorage.getItem('metaPageAccessToken');
            
            if (!token) {
                if (confirm('No token saved. Would you like to connect Facebook now?')) {
                    connectMeta();
                }
                return;
            }
            
            if (!content) {
                alert('Please generate content first');
                return;
            }
            
            if (!imageUrl) {
                alert('‚ö†Ô∏è Instagram requires an image!\n\nPlease add an image URL in the field below the buttons.\n\nExample: https://example.com/yourimage.jpg');
                return;
            }
            
            if (!confirm('Post this content to Instagram now?\n\nNote: Make sure your Facebook Page is connected to an Instagram Business Account.')) {
                return;
            }
            
            try {
                const response = await fetch('/api/social/post-to-instagram', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        pageAccessToken: token,
                        message: content,
                        imageUrl: imageUrl
                    })
                });
                
                const data = await response.json();
                
                if (data.success) {
                    alert('‚úÖ Posted to Instagram successfully!\n\nPost ID: ' + data.postId + '\nAccount: ' + data.instagramAccount);
                } else {
                    let errorMsg = '‚ùå Failed to post to Instagram:\n\n' + data.message;
                    
                    if (data.help && data.help.steps) {
                        errorMsg += '\n\nTo fix this:\n' + data.help.steps.join('\n');
                    } else if (data.help && data.help.solution) {
                        errorMsg += '\n\n' + data.help.solution;
                    }
                    
                    alert(errorMsg);
                }
            } catch (error) {
                console.error('Instagram post error:', error);
                alert('‚ùå Error posting to Instagram: ' + error.message);
            }
        }
        
        // Check if we have a saved token on load
        window.addEventListener('DOMContentLoaded', function() {
            console.log('Dashboard loaded');
            const savedToken = localStorage.getItem('metaPageAccessToken');
            if (savedToken) {
                console.log('Found saved token, will auto-test...');
                const metaTokenInput = document.getElementById('metaToken');
                if (metaTokenInput) {
                    metaTokenInput.value = savedToken;
                }
                // Reset manual test flag for auto-test (no alert popup)
                window.manualTest = false;
                // Small delay to ensure all DOM elements are ready
                setTimeout(() => testMetaToken(), 200);
            }
            
            // Set default date/time to tomorrow
            const tomorrow = new Date();
            tomorrow.setDate(tomorrow.getDate() + 1);
            tomorrow.setHours(9, 0, 0, 0);
            const scheduleDateTimeInput = document.getElementById('scheduleDateTime');
            if (scheduleDateTimeInput) {
                scheduleDateTimeInput.value = tomorrow.toISOString().slice(0, 16);
            }
        });
        
        // ENHANCED CONTENT TEMPLATES - Diverse, industry-specific, non-repetitive
        const contentTemplateLibrary = {
            'test-post': [
                "üöÄ TESTING! TESTING! 1...2...3...\n\nWe're excited to test our NEW automated social media platform live on {business}!\n\n‚ú® What this means for you:\n‚úÖ More consistent content\n‚úÖ Better engagement\n‚úÖ Smarter posting times\n‚úÖ Professional quality posts\n\nStay tuned as we bring you even better content! üéØ\n\n#Automation #NewTechnology #Innovation #SocialMediaMarketing",
                "üéâ BIG NEWS! We're testing cutting-edge automation technology here at {business}!\n\nThis post was created and published using our brand new content generation platform. Pretty cool, right?\n\nü§ñ Why we're doing this:\nTo bring you better, more consistent content that actually helps your business grow.\n\nLet us know what you think! Drop a comment below üëá\n\n#TestingInProgress #Innovation #SmartMarketing #TechSavvy",
                "üì¢ LIVE TEST IN PROGRESS!\n\n{business} is now testing state-of-the-art social media automation. You're witnessing the future of digital marketing right now! üöÄ\n\nüí° What's different?\n‚Ä¢ Smarter content\n‚Ä¢ Perfect timing\n‚Ä¢ Consistent quality\n‚Ä¢ Data-driven strategy\n\nExcited to share this journey with you! üéØ\n\n#AutomationTesting #DigitalTransformation #MarketingInnovation #FutureOfMarketing"
            ],
            'service-promotion': {
                'digital-marketing': [
                    "üìà Is your website getting lost in the crowd?\n\nAt {business}, we specialize in getting local businesses FOUND online. Our SEO strategies have helped businesses in {location} increase their visibility by an average of 250%!\n\n‚úÖ Local SEO optimization\n‚úÖ Google Business Profile management\n‚úÖ Content strategy\n‚úÖ Performance tracking\n\nReady to dominate local search? Let's talk! üìû {phone}\n\n#LocalSEO #DigitalMarketing #{location} #BusinessGrowth",
                    "üéØ Your competitors are online. Are you?\n\n{business} helps local businesses build powerful digital presences that drive real results.\n\nüíº Our Services:\n‚Ä¢ Website Design & Development\n‚Ä¢ Search Engine Optimization\n‚Ä¢ Social Media Management\n‚Ä¢ Paid Advertising\n‚Ä¢ Email Marketing\n\nFree consultation available! Call {phone}\n\n#WebDesign #DigitalStrategy #OnlineMarketing #{location}",
                    "üí° Throwing money at Facebook ads with no results?\n\nThe problem isn't the platform‚Äîit's the strategy. At {business}, we create data-driven campaigns that actually convert.\n\nüìä Our recent campaign results:\n‚Ä¢ 42% lower cost per lead\n‚Ä¢ 3.2x return on ad spend\n‚Ä¢ 89% increase in qualified leads\n\nLet's fix your marketing! üìû {phone}\n\n#FacebookAds #PaidAdvertising #MarketingStrategy #{location}"
                ],
                'insurance': [
                    "üè† Protecting what matters most.\n\nAt {business}, we understand that insurance isn't just about policies‚Äîit's about peace of mind for you and your family.\n\nüõ°Ô∏è We offer:\n‚Ä¢ Home Insurance\n‚Ä¢ Auto Insurance\n‚Ä¢ Life Insurance\n‚Ä¢ Business Insurance\n‚Ä¢ Umbrella Coverage\n\nGet a free quote today: {phone}\nServing {location} with integrity since [year]\n\n#Insurance #Protection #PeaceOfMind #{location}",
                    "‚ö†Ô∏è When was the last time you reviewed your insurance coverage?\n\nLife changes‚Äîand your insurance should too. Marriage, new home, business growth? Let's make sure you're properly protected.\n\n{business} offers FREE policy reviews with no obligation.\n\nCall today: {phone}\n\n#InsuranceReview #ProtectionPlan #LocalInsurance #{location}",
                    "üíº Business owners: Are you properly insured?\n\n73% of small businesses are underinsured. Don't let a single incident destroy everything you've built.\n\n{business} specializes in:\n‚Ä¢ General Liability\n‚Ä¢ Workers Compensation  \n‚Ä¢ Professional Liability\n‚Ä¢ Cyber Insurance\n\nProtect your business today: {phone}\n\n#BusinessInsurance #RiskManagement #{location}"
                ],
                'construction': [
                    "üî® Quality craftsmanship. Honest pricing. On-time completion.\n\nThat's the {business} difference. We've been building trust in {location} for over [years] years.\n\n‚úÖ Licensed & Insured\n‚úÖ Free Estimates\n‚úÖ Warranty Guaranteed\n‚úÖ Local References Available\n\nCall us today: {phone}\n\n#Construction #Contractor #QualityWork #{location}",
                    "üèóÔ∏è Planning a renovation? Don't settle for the lowest bid.\n\nAt {business}, we believe in doing it right the first time. Our experienced team handles:\n\n‚Ä¢ Kitchen & Bath Remodels\n‚Ä¢ Home Additions\n‚Ä¢ Roofing & Siding\n‚Ä¢ Commercial Projects\n\nFree consultation & detailed estimates: {phone}\n\n#HomeImprovement #Renovation #LocalContractor #{location}"
                ],
                'professional-services': [
                    "üíº Expert advice when you need it most.\n\n{business} provides professional {industry} services with a personal touch. Our experienced team is here to guide you through complex decisions.\n\nüìû Schedule a consultation: {phone}\nServing {location} with excellence\n\n#{location} #ProfessionalServices #TrustedAdvisor",
                    "‚öñÔ∏è Making the right decision starts with the right advisor.\n\nAt {business}, we combine expertise with accessibility. No question is too small, no challenge too complex.\n\nContact us today: {phone}\n\n#{location} #LocalProfessional #ExpertAdvice"
                ],
                'healthcare': [
                    "üè• Your health is our priority.\n\nAt {business}, we provide compassionate, comprehensive healthcare for your entire family.\n\n‚úÖ Accepting new patients\n‚úÖ Same-day appointments available\n‚úÖ Most insurance accepted\n\nCall to schedule: {phone}\nServing {location}\n\n#Healthcare #FamilyMedicine #{location}",
                    "üíö Quality healthcare, delivered with care.\n\n{business} is committed to keeping our {location} community healthy. Modern facilities, experienced staff, and a focus on YOU.\n\nSchedule your appointment: {phone}\n\n#HealthcareProvider #CommunityHealth #{location}"
                ],
                'restaurant': [
                    "üçΩÔ∏è Fresh ingredients. Bold flavors. Unforgettable experiences.\n\nThat's what you'll find at {business}. Join us for:\n\n‚Ä¢ Daily lunch specials\n‚Ä¢ Weekend brunch\n‚Ä¢ Private events\n‚Ä¢ Takeout & delivery\n\nReservations: {phone}\n{location}\n\n#LocalRestaurant #FoodieLife #{location}",
                    "üë®‚Äçüç≥ Made from scratch. Served with love.\n\n{business} has been feeding {location} for [years] years. Every dish tells a story, every meal creates a memory.\n\nCome hungry, leave happy! üç¥\nCall: {phone}\n\n#EatLocal #FreshFood #{location}"
                ],
                'retail': [
                    "üõçÔ∏è Shop local. Shop {business}.\n\nWhy buy online when you can get personal service, expert advice, and support your local community?\n\nVisit us in {location}!\nüìû {phone}\n\n#ShopLocal #SupportSmallBusiness #{location}",
                    "‚ú® New arrivals weekly at {business}!\n\nDiscover unique finds you won't see anywhere else. Plus, our knowledgeable staff is always here to help.\n\nStop by today: {location}\n{phone}\n\n#RetailTherapy #LocalShopping #{location}"
                ],
                'real-estate': [
                    "üè° Ready to find your dream home?\n\n{business} knows the {location} market inside and out. We'll help you find not just a house, but the perfect place to call home.\n\nüìû Free consultation: {phone}\n\n#RealEstate #HomeSearch #{location} #DreamHome",
                    "üìà Thinking of selling? Now is the time.\n\n{business} sells homes faster and for more money. Our proven marketing strategy gets results.\n\nFree home valuation: {phone}\nServing {location}\n\n#RealEstate #HomeSelling #{location}"
                ],
                'automotive': [
                    "üöó Keep your vehicle running like new.\n\n{business} provides honest, reliable automotive service. No upselling. No surprises. Just quality work at fair prices.\n\n‚úÖ All makes & models\n‚úÖ ASE-certified technicians\n‚úÖ Warranty on all work\n\nCall: {phone}\n{location}\n\n#AutoRepair #CarMaintenance #{location}",
                    "üîß Car trouble? We've got you covered.\n\n{business} has been keeping {location} vehicles on the road for [years] years. Same-day service available!\n\nüìû {phone}\n\n#AutoService #LocalMechanic #{location}"
                ],
                'home-services': [
                    "üîß Expert {industry} services when you need them most.\n\n{business} provides fast, reliable service throughout {location}. Licensed, insured, and always professional.\n\nüìû 24/7 Emergency Service: {phone}\n\n#HomeServices #LocalPros #{location}",
                    "üè† Your home deserves the best.\n\nAt {business}, we treat every job like it's our own home. Quality workmanship, upfront pricing, 100% satisfaction guaranteed.\n\nCall today: {phone}\n{location}\n\n#HomeImprovement #LocalExperts #{location}"
                ],
                'fitness': [
                    "üí™ Transform your body. Transform your life.\n\n{business} isn't just a gym‚Äîit's a community dedicated to your success. Personal training, group classes, and support every step of the way.\n\nFree trial week: {phone}\n{location}\n\n#Fitness #GymLife #{location} #GetFit",
                    "üèãÔ∏è Your fitness goals are within reach.\n\nAt {business}, we create personalized programs that work for YOUR body and YOUR schedule.\n\nStart your journey today: {phone}\n\n#FitnessJourney #PersonalTraining #{location}"
                ],
                'beauty': [
                    "üíá‚Äç‚ôÄÔ∏è Look good. Feel great.\n\n{business} offers the latest styles and treatments in a relaxing, professional environment.\n\n‚ú® Services:\n‚Ä¢ Hair styling & color\n‚Ä¢ Nail services\n‚Ä¢ Skin treatments\n‚Ä¢ Makeup\n\nBook now: {phone}\n{location}\n\n#BeautySalon #HairSalon #{location}",
                    "‚ú® Treat yourself. You deserve it.\n\n{business} is {location}'s premier destination for beauty and relaxation. Our talented team uses only the best products.\n\nAppointments: {phone}\n\n#SelfCare #BeautyTreatment #{location}"
                ]
            },
            'industry-tip': {
                'digital-marketing': [
                    "üí° TIP: 70% of people search for local businesses online before visiting.\n\nIs your business easy to find? Make sure you have:\n‚úÖ Google Business Profile (claimed & optimized)\n‚úÖ Consistent NAP (name, address, phone)\n‚úÖ Recent customer reviews\n‚úÖ Photos & hours updated\n\nNeed help? {business} specializes in local SEO! {phone}\n\n#LocalSEO #MarketingTip #{location}",
                    "üì± Did you know? Social media posts with images get 2.3x more engagement!\n\nAlways include high-quality photos with your posts. Your customers want to SEE what you offer.\n\n{business} | {phone}\n\n#SocialMediaTips #DigitalMarketing #{location}"
                ],
                'insurance': [
                    "üõ°Ô∏è INSURANCE TIP: Review your coverage annually.\n\nLife changes‚Äîmarriage, kids, new home, business growth‚Äîcan leave you under or over insured.\n\nFree policy review at {business}\nCall: {phone}\n\n#InsuranceTip #ProtectionPlan #{location}",
                    "‚ö†Ô∏è Don't wait until it's too late!\n\n80% of homes are underinsured. Make sure your coverage keeps pace with property values and replacement costs.\n\n{business} | Free consultation: {phone}\n\n#InsuranceAdvice #{location}"
                ],
                'construction': [
                    "üî® CONTRACTOR TIP: Get 3 detailed quotes before starting any project.\n\nLook for:\n‚úÖ Itemized estimates\n‚úÖ Timeline & milestones\n‚úÖ Warranty information\n‚úÖ License & insurance proof\n\n{business} | Free estimates: {phone}\n\n#ConstructionTips #Homeowner #{location}"
                ]
            },
            'behind-scenes': [
                "üëã Meet the team behind {business}!\n\nWe're not just a business‚Äîwe're your neighbors, friends, and community members. Here's a glimpse of what goes on behind the scenes...\n\n[Perfect spot for team photo]\n\n#{location} #LocalBusiness #MeetTheTeam",
                "üé¨ Behind the scenes at {business} today!\n\nThis is what dedication looks like. Our team works hard every day to bring you the best service possible.\n\nThanks for your continued support, {location}!\n\n#BTS #LocalBusiness #{location}",
                "‚òï Morning at {business}!\n\nBefore we open our doors, there's a lot of prep work. Here's what it takes to serve you with excellence every single day.\n\n#{location} #BehindTheScenes #SmallBusiness"
            ],
            'testimonial': [
                "‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê \"Absolutely fantastic service!\"\n\n\"I can't say enough good things about {business}. Professional, knowledgeable, and truly care about their customers. Highly recommend!\"\n\n- Happy Customer\n\nWant to be our next success story? {phone}\n\n#CustomerReview #5Stars #{location}",
                "üí¨ Real feedback from real customers:\n\n\"{business} exceeded our expectations in every way. Quality work, fair pricing, and amazing customer service!\"\n\nThank you for trusting us with your business!\n\n{phone} | {location}\n\n#Testimonial #HappyCustomers #{location}"
            ],
            'question': [
                "‚ùì Quick question: What's the #1 challenge facing your business right now?\n\nDrop a comment below‚Äîwe'd love to hear from you! And if {business} can help, we'll reach out.\n\n{phone} | {location}\n\n#{location} #BusinessTips #CommunityConversation",
                "ü§î We want to hear from YOU!\n\nWhat topics would you like to see us cover? Marketing tips? Industry news? Behind-the-scenes content?\n\nComment below and let us know! üëá\n\n{business} | {location}\n\n#{location} #Engagement #CommunityFirst"
            ],
            'did-you-know': [
                "üìö DID YOU KNOW?\n\n{business} has been serving {location} for [X] years! That's [X] years of dedication, quality service, and happy customers.\n\nThank you for being part of our journey! üôè\n\n{phone}\n\n#{location} #LocalBusiness #CommunityStrong",
                "üí° FUN FACT: We process [number]+ [orders/clients/projects] every month!\n\nThat's a lot of trust placed in {business}, and we don't take it lightly. Thank you, {location}!\n\n{phone}\n\n#{location} #DidYouKnow #LocalSupport"
            ],
            'local-community': [
                "‚ù§Ô∏è Community matters.\n\n{business} is proud to support local schools, charities, and events in {location}. When you shop local, you're reinvesting in OUR community.\n\nThank you for your support!\n\n{phone}\n\n#{location} #SupportLocal #CommunityFirst",
                "üåü Love where you live? Shop where you live!\n\n{business} has been a proud member of the {location} community for [years]. Every purchase supports local families, schools, and neighborhoods.\n\n{phone}\n\n#ShopLocal #{location} #CommunitySupport"
            ]
        };
        
        function switchPlatform(platform, element) {
            document.querySelectorAll('.platform-tab').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('.content-area').forEach(area => area.classList.remove('active'));
            if (element) element.classList.add('active');
            const targetArea = document.getElementById(platform);
            if (targetArea) targetArea.classList.add('active');
        }
        
        function generateContent() {
            const contentType = document.getElementById('contentType').value;
            const industryType = document.getElementById('professionType').value;
            const businessName = document.getElementById('clientBusinessName').value || 'TNR Business Solutions';
            const location = 'Greensburg PA'; // Can make this customizable too
            const phone = '(412) 499-2987'; // Can make this customizable too
            
            let template;
            
            // Handle test post (special case - always random)
            if (contentType === 'test-post') {
                const testTemplates = contentTemplateLibrary['test-post'];
                template = testTemplates[Math.floor(Math.random() * testTemplates.length)];
            }
            // Handle service promotions (industry-specific)
            else if (contentType === 'service-promotion') {
                const industryTemplates = contentTemplateLibrary[contentType][industryType];
                if (industryTemplates && industryTemplates.length > 0) {
                    template = industryTemplates[Math.floor(Math.random() * industryTemplates.length)];
                } else {
                    // Fallback to generic
                    template = "üöÄ Looking for quality {industry} services in {location}?\n\n{business} is here to help! Our experienced team delivers professional results you can count on.\n\nContact us today: {phone}\n\n#{location} #LocalBusiness #Professional";
                }
            }
            // Handle industry tips (industry-specific)
            else if (contentType === 'industry-tip') {
                const industryTemplates = contentTemplateLibrary[contentType][industryType];
                if (industryTemplates && industryTemplates.length > 0) {
                    template = industryTemplates[Math.floor(Math.random() * industryTemplates.length)];
                } else {
                    // Generic tip
                    template = "üí° PRO TIP: Stay consistent with your marketing!\n\nRegular posts, consistent branding, and engaging content build trust with your audience.\n\n{business} | {phone}\n\n#{location} #BusinessTip #MarketingAdvice";
                }
            }
            // Handle non-industry-specific content types
            else if (contentTemplateLibrary[contentType]) {
                const templates = contentTemplateLibrary[contentType];
                template = templates[Math.floor(Math.random() * templates.length)];
            }
            // Fallback for missing content types
            else {
                template = "üéØ Great things are happening at {business}!\n\nWe're dedicated to providing excellent service to {location} and beyond.\n\nContact us: {phone}\n\n#{location} #LocalBusiness #CommunityFocused";
            }
            
            // Replace placeholders with actual values
            let content = template
                .replace(/{business}/g, businessName)
                .replace(/{location}/g, location)
                .replace(/{phone}/g, phone)
                .replace(/{industry}/g, getIndustryName(industryType))
                .replace(/#{location}/g, '#' + location.replace(/\s+/g, ''));
            
            document.getElementById('previewContent').textContent = content;
            document.getElementById('contentPreview').classList.remove('hidden');
        }
        
        function getIndustryName(industryType) {
            const industryNames = {
                'digital-marketing': 'Digital Marketing',
                'insurance': 'Insurance',
                'construction': 'Construction',
                'professional-services': 'Professional Services',
                'healthcare': 'Healthcare',
                'restaurant': 'Restaurant',
                'retail': 'Retail',
                'real-estate': 'Real Estate',
                'automotive': 'Automotive',
                'home-services': 'Home Services',
                'fitness': 'Fitness',
                'beauty': 'Beauty'
            };
            return industryNames[industryType] || 'Business';
        }
        
        function generateHashtags() {
            const hashtagSets = {
                'digital-marketing': ['#DigitalMarketing', '#MarketingStrategy', '#BusinessGrowth', '#OnlineMarketing', '#MarketingTips'],
                'insurance': ['#Insurance', '#AutoInsurance', '#HomeInsurance', '#BusinessInsurance', '#LifeInsurance'],
                'web-design': ['#WebDesign', '#WebsiteDesign', '#WebDevelopment', '#ResponsiveDesign', '#UXDesign'],
                'seo': ['#SEO', '#SearchEngineOptimization', '#LocalSEO', '#SEOTips', '#GoogleRankings'],
                'social-media': ['#SocialMedia', '#SocialMediaMarketing', '#FacebookMarketing', '#InstagramMarketing', '#ContentCreation'],
                'local-business': ['#LocalBusiness', '#GreensburgPA', '#WestmorelandCounty', '#Pittsburgh', '#LocalMarketing']
            };
            
            const industry = document.getElementById('hashtagIndustry').value;
            const hashtags = hashtagSets[industry] || hashtagSets['digital-marketing'];
            const container = document.getElementById('hashtagResults');
            container.innerHTML = '';
            
            hashtags.forEach(hashtag => {
                const span = document.createElement('span');
                span.className = 'hashtag';
                span.textContent = hashtag;
                span.onclick = () => {
                    navigator.clipboard.writeText(hashtag);
                    alert('Copied: ' + hashtag);
                };
                container.appendChild(span);
            });
        }
        
        function addClient() {
            const clientName = document.getElementById('newClientName').value;
            if (!clientName) {
                alert('Please enter a client name');
                return;
            }
            
            const clientItem = document.createElement('div');
            clientItem.className = 'client-item';
            clientItem.innerHTML = `
                <div>
                    <div class="client-name">${clientName}</div>
                    <div style="font-size: 0.8rem; color: #6c757d;">New Client</div>
                </div>
                <span class="client-status status-active">Active</span>
            `;
            document.getElementById('clientList').appendChild(clientItem);
            document.getElementById('newClientName').value = '';
            alert('Client added successfully!');
        }
        
        function showApiConfig() {
            alert('API Configuration:\n\n1. Use "Connect Facebook/Instagram" button for Meta\n2. Visit test-facebook-posting.html to test your tokens\n3. Tokens are saved in browser localStorage');
        }
        
        function exportToBuffer() { alert('Export to Buffer feature coming soon!'); }
        function exportToHootsuite() { alert('Export to Hootsuite feature coming soon!'); }
        function exportToLater() { alert('Export to Later feature coming soon!'); }
        function exportToWebhook() { alert('Export to Webhook feature coming soon!'); }
        function schedulePostReal() { alert('Real-time scheduling coming soon!'); }
        function schedulePost() { alert('CSV Export coming soon!'); }
    </script>
</body>
</html>

