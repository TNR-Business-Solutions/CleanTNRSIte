<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add Test Submissions - TNR Business Solutions</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; background: #f5f5f5; }
        .container { max-width: 800px; margin: 0 auto; background: white; padding: 20px; border-radius: 8px; }
        button { background: #2c5530; color: white; padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer; margin: 5px; }
        button:hover { background: #1e3a21; }
        .status { margin: 20px 0; padding: 15px; background: #f8f9fa; border-radius: 5px; }
    </style>
</head>
<body>
    <div class="container">
        <h1>ðŸ§ª Add Test Form Submissions</h1>
        
        <div class="status">
            <h3>Current Status:</h3>
            <div id="status-info">Loading...</div>
        </div>
        
        <button onclick="addTestSubmissions()">Add Test Form Submissions</button>
        <button onclick="convertToLeads()">Convert to Leads</button>
        <button onclick="clearAllData()">Clear All Data</button>
        <button onclick="refreshStatus()">Refresh Status</button>
        
        <div class="status">
            <h3>Instructions:</h3>
            <ol>
                <li>Click "Add Test Form Submissions" to add sample data</li>
                <li>Click "Convert to Leads" to convert them to CRM leads</li>
                <li>Check the admin dashboard to see the results</li>
            </ol>
        </div>
    </div>

    <script src="crm-data.js"></script>
    <script>
        function addTestSubmissions() {
            const testSubmissions = [
                {
                    id: "submission-" + Date.now(),
                    name: "Test User 1",
                    email: "test1@example.com",
                    phone: "412-555-1001",
                    company: "Test Company 1",
                    website: "www.test1.com",
                    industry: "Technology",
                    services: ["Web Design", "SEO Services"],
                    budget: "10000-25000",
                    timeline: "1-month",
                    message: "This is a test submission 1",
                    additionalInfo: "Additional info 1",
                    contactMethod: "email",
                    source: "Website Form",
                    timestamp: new Date().toISOString(),
                    submissionDate: new Date().toLocaleString(),
                    submissionDateTime: new Date().toISOString(),
                    convertedToLead: false
                },
                {
                    id: "submission-" + (Date.now() + 1),
                    name: "Test User 2",
                    email: "test2@example.com",
                    phone: "412-555-1002",
                    company: "Test Company 2",
                    website: "www.test2.com",
                    industry: "Healthcare",
                    services: ["Content Creation", "Social Media Management"],
                    budget: "5000-15000",
                    timeline: "2-months",
                    message: "This is a test submission 2",
                    additionalInfo: "Additional info 2",
                    contactMethod: "phone",
                    source: "Website Form",
                    timestamp: new Date().toISOString(),
                    submissionDate: new Date().toLocaleString(),
                    submissionDateTime: new Date().toISOString(),
                    convertedToLead: false
                },
                {
                    id: "submission-" + (Date.now() + 2),
                    name: "Test User 3",
                    email: "test3@example.com",
                    phone: "412-555-1003",
                    company: "Test Company 3",
                    website: "www.test3.com",
                    industry: "Finance",
                    services: ["Paid Advertising", "Email Marketing"],
                    budget: "25000-50000",
                    timeline: "3-months",
                    message: "This is a test submission 3",
                    additionalInfo: "Additional info 3",
                    contactMethod: "text",
                    source: "Website Form",
                    timestamp: new Date().toISOString(),
                    submissionDate: new Date().toLocaleString(),
                    submissionDateTime: new Date().toISOString(),
                    convertedToLead: false
                }
            ];
            
            // Get existing submissions
            let existingSubmissions = JSON.parse(localStorage.getItem('tnr_form_submissions') || '[]');
            
            // Add new test submissions
            existingSubmissions = existingSubmissions.concat(testSubmissions);
            
            // Save to localStorage
            localStorage.setItem('tnr_form_submissions', JSON.stringify(existingSubmissions));
            
            alert(`Added ${testSubmissions.length} test form submissions!`);
            refreshStatus();
        }
        
        function convertToLeads() {
            if (!window.tnrCRM) {
                window.tnrCRM = new TNRCRMData();
            }
            
            const storedSubmissions = localStorage.getItem('tnr_form_submissions');
            if (storedSubmissions) {
                const submissions = JSON.parse(storedSubmissions);
                const beforeCount = window.tnrCRM.leads.length;
                
                window.tnrCRM.autoConvertSubmissionsToLeads(submissions);
                
                const afterCount = window.tnrCRM.leads.length;
                const converted = afterCount - beforeCount;
                
                alert(`Converted ${converted} form submissions to leads!`);
                refreshStatus();
            } else {
                alert('No form submissions found');
            }
        }
        
        function clearAllData() {
            if (confirm('Are you sure you want to clear all data?')) {
                localStorage.removeItem('tnr_form_submissions');
                localStorage.removeItem('tnr_crm_leads');
                localStorage.removeItem('tnr_crm_clients');
                localStorage.removeItem('tnr_crm_orders');
                alert('All data cleared!');
                refreshStatus();
            }
        }
        
        function refreshStatus() {
            const submissions = JSON.parse(localStorage.getItem('tnr_form_submissions') || '[]');
            const leads = JSON.parse(localStorage.getItem('tnr_crm_leads') || '[]');
            const clients = JSON.parse(localStorage.getItem('tnr_crm_clients') || '[]');
            
            document.getElementById('status-info').innerHTML = `
                <strong>Form Submissions:</strong> ${submissions.length}<br>
                <strong>Leads:</strong> ${leads.length}<br>
                <strong>Clients:</strong> ${clients.length}<br>
                <strong>CRM Initialized:</strong> ${typeof window.tnrCRM !== 'undefined' ? 'Yes' : 'No'}
            `;
        }
        
        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            refreshStatus();
        });
    </script>
</body>
</html>
